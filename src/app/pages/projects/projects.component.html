<div class="col-lg-12 p-1" *ngIf="listOfProjectView">
  <div class="col-lg-12 row mt-4 mb-3">
    <div class="col-lg-10 ">
      <h4>List of Projects</h4>
    </div>
    <div class="col-lg-2">
      <button mat-stroked-button color="primary" (click)="fileModal()">Add New Project</button>
    </div>

  </div>

  <table mat-table [dataSource]="dataSource" matSort class="mat-elevation-z8 col-lg-10 offset-lg-1">

    <!-- Position Column -->
    <ng-container matColumnDef="id">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> No. </th>
      <td mat-cell *matCellDef="let element"> {{element.id}} </td>
    </ng-container>

    <!-- Name Column -->
    <ng-container matColumnDef="name">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> Name </th>
      <td mat-cell *matCellDef="let element"> {{element.project_name}} </td>
    </ng-container>

    <!-- Weight Column -->
    <ng-container matColumnDef="files">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> Files </th>
      <td mat-cell *matCellDef="let element"> {{element.total_files_count}} </td>
    </ng-container>

    <ng-container matColumnDef="action">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> Process </th>
      <td mat-cell *matCellDef="let element">
        <button mat-mini-fab color="primary" (click)="viewProjectModel(element)">
          <mat-icon>zoom_out_map</mat-icon>
        </button>
      </td>
    </ng-container>
    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
  </table>


</div>

<div class="col-lg-12 p-1 row" *ngIf="projectView">
  <div class="col-lg-11">
    <h3>Project > {{selectedProject.project_name}}</h3>
  </div>
  <div class="col-lg-1">
    <button mat-mini-fab color="primary" (click)="closeProjectView()">
      <mat-icon>arrow_back</mat-icon>
    </button>
  </div>
  <div class="col-lg-12">&nbsp;</div>
  <div class="col-lg-12 row">
    <div class="col-lg-10">
      <h4>List of Files</h4>
    </div>
    <div class="col-lg-2">
      <button mat-stroked-button color="primary" (click)="showUploadfileSection()" *ngIf="!uploadFileSection">Add Files
        to Project</button>
    </div>

  </div>
  <!-- add multiple project start -->
  <div class="col-lg-12 p-1" *ngIf="addlistOfProjectView">

    <table mat-table [dataSource]="filesDataSource" matSort class="mat-elevation-z8 col-lg-10 offset-lg-1">

      <!-- Position Column -->
      <ng-container matColumnDef="id">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> No. </th>
        <td mat-cell *matCellDef="let element"> {{element.file_id}} </td>
      </ng-container>

      <!-- Name Column -->
      <ng-container matColumnDef="name">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Name </th>
        <td mat-cell *matCellDef="let element"> {{element.file_name}} </td>
      </ng-container>

      <ng-container matColumnDef="action">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Action </th>
        <td mat-cell *matCellDef="let element">
          <button mat-mini-fab color="primary" (click)="editFile(element.file_id)">
            <mat-icon>edit</mat-icon>
          </button>
          <button mat-mini-fab color="primary" class="ml-2" (click)="deleteFile(element.file_id)">
            <mat-icon>delete</mat-icon>
          </button>
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="filesDisplayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: filesDisplayedColumns;"></tr>
    </table>

  </div>
  <!-- add multiple project end -->


  <!-- popup start -->
  <div class="modal shadow" id="myModal" *ngIf="croppopup" style="display: block!important;">
    <div class="modal-dialog ">
      <div class="modal-content">
       
        <div class="modal-body">
          <div class="form-group row">
            <div class="col-12 text-center">
              <picture>
                <source  srcset="../assets/images/download.png" width="20%">
                <img mat-card-image src="" alt="Photo of a Shiba Inu" width="20%">
              </picture>
              <div class="file-input-container mt-2">
                <label>
                  <input type="file" mat-stroked-button #fileInput multiple (change)="fileSelected($event)"
                    accept="application/pdf,text/plain" />
                  Add Files
                </label>
              </div>

              <table class="table-headed table-striped mt-3">
                <thead>
                  <tr>
                    <th span="1" style="width: 15%;">Name</th>
                    <th span="1" style="width: 70%;">Size</th>
                    <th span="1" style="width: 15%;">Progress</th>
                  </tr>
                </thead>
                <tbody>
                  <tr *ngFor="let item of queue | async">
                    <td>{{ item?.file?.name }}</td>
                    <td>{{ item?.file?.size/1024/1024 | number:'.2' }} MB</td>
                    <td>{{ item.progress + ' %' }}
                      <progress id="file" [value]="item.progress" max="100"> </progress>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
          <div class="form-group row">
            <div class="col-12 text-center mt-4">
              <button mat-stroked-button class="btn btn-success mr-2" (click)="uploadfunction()">upload All</button>
              <button mat-stroked-button class="btn btn-danger mr-2" (click)="cancel()">cancel</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- popup end -->



</div>

<div class="col-lg-12 p-1 row" *ngIf="fileView">
  <div class="col-lg-11">
    <!-- <h3>Project > {{selectedProject.name}} > Filename.pdf</h3> -->
  </div>
  <div class="col-lg-1">
    <button mat-mini-fab color="primary" (click)="closeFileView()">
      <mat-icon>arrow_back</mat-icon>
    </button>
  </div>
  <div class="col-lg-12">&nbsp;</div>
  <div class="col-lg-12 row">
    <app-file [selectedFile]="selectedFile"></app-file>
  </div>
</div>

<!-- create new project start -->
<mat-card class="example-card mat-elevation-z8 mt-4 text-center " *ngIf="addproject">
  <mat-form-field class="mt-4">
    <div>
      <mat-toolbar>
        <input matInput [(ngModel)]="prjData.project_name" placeholder="Enter Project Name" name="name" />
      </mat-toolbar>
    </div>
  </mat-form-field>
  <div class="form-group row">
    <div class="col-12 text-center mb-3">
      <button mat-stroked-button class="btn btn-success mr-2" (click)="createProject()">Create</button>
      <button mat-stroked-button class="btn btn-danger mr-2" (click)="cancelProject()">Cancel</button>

    </div>
  </div>
</mat-card>
<!-- create new project end -->